<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PolicyCodex AI - Free GDPR Privacy Policy Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f0f4f8; }
        .policy-content-scroll { max-height: 70vh; overflow-y: auto; scrollbar-width: thin; scrollbar-color: #cbd5e1 #f7fafc; }
        .policy-content-scroll::-webkit-scrollbar { width: 8px; }
        .policy-content-scroll::-webkit-scrollbar-track { background: #f7fafc; border-radius: 10px; }
        .policy-content-scroll::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 10px; border: 2px solid #f7fafc; }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="bg-white rounded-xl shadow-2xl p-8 md:p-10 w-full max-w-4xl flex flex-col lg:flex-row gap-8">
        <div class="lg:w-1/2 flex flex-col space-y-6">
            <h1 class="text-4xl font-bold text-gray-900 text-center lg:text-left mb-4">
                <span class="text-blue-600">PolicyCodex</span> AI
            </h1>
            <p class="text-gray-600 text-lg text-center lg:text-left">
                Generate a GDPR-compliant Privacy Policy instantly for your website.
                No legal jargon, just razor-sharp compliance.
            </p>

            <div>
                <label for="businessName" class="block text-gray-700 text-sm font-medium mb-2">Your Business Name</label>
                <input type="text" id="businessName" placeholder="e.g., My Awesome Startup Ltd."
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-gray-900">
            </div>
            <div>
                <label for="websiteUrl" class="block text-gray-700 text-sm font-medium mb-2">Your Website URL</label>
                <input type="url" id="websiteUrl" placeholder="e.g., https://www.example.com"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-gray-900">
            </div>

            <div class="bg-blue-50 border border-blue-200 text-blue-800 px-4 py-3 rounded-lg text-sm">
                <p class="font-semibold">Target Jurisdiction (MVP):</p>
                <p>United Kingdom & European Union (GDPR)</p>
            </div>

            <button id="generateBtn"
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75">
                Generate Free GDPR Policy
            </button>
            
            <p class="text-center text-gray-600 text-sm mt-3">
                Need a fully customized policy, done for you? <a href="#doneForYou" class="text-blue-600 hover:underline font-semibold">Learn More About Our Premium Service</a>
            </p>

            <div id="loadingIndicator" class="hidden text-center text-blue-600 font-medium">
                <div class="animate-spin inline-block w-6 h-6 border-4 border-t-transparent border-blue-600 rounded-full"></div>
                <p class="mt-2">Generating your policy...</p>
            </div>

            <div id="errorMessage" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative" role="alert">
                <strong class="font-bold">Error!</strong>
                <span class="block sm:inline" id="errorText"></span>
            </div>
        </div>

        <div class="lg:w-1/2 bg-gray-50 p-6 rounded-lg border border-gray-200 flex flex-col">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4 text-center">Your Generated Privacy Policy</h2>
            <div id="policyOutput" class="policy-content-scroll text-gray-700 leading-relaxed text-sm bg-white p-4 rounded-md border border-gray-100 relative">
                <p class="text-center text-gray-500 italic">Your policy will appear here after generation. This is an MVP version for demonstration purposes.</p>
                <p class="text-center text-gray-400 italic mt-2">Generated by PolicyCodex AI - Free MVP Version</p>
            </div>

            <div id="policyActions" class="hidden mt-6 space-y-3 md:space-y-0 md:flex md:gap-4 justify-center">
                <button id="copyBtn"
                        class="flex-1 bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75">
                    Copy Policy
                </button>
                <button id="unlockPolicyBtn"
                        class="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75">
                    Unlock Unwatermarked & Download (£39)
                </button>
            </div>

            <div class="mt-6 text-center text-gray-600 text-sm">
                <p>This is a free MVP version from PolicyCodex AI.</p>
                <p class="mt-1 font-semibold text-blue-600">
                    Want auto-updates, advanced customization, and more?
                </p>
                <a id="waitlistLink" href="YOUR_WAITLIST_FORM_URL" target="_blank"
                   class="inline-block mt-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105">
                    Join Our Pro Features Waitlist!
                </a>
                <p class="mt-2 text-blue-600 font-semibold">Visit <a href="https://www.policycodex.com" target="_blank" class="hover:underline">policycodex.com</a> for updates.</p>
            </div>
        </div>
    </div>

    <div id="doneForYou" class="hidden bg-white rounded-xl shadow-2xl p-8 md:p-10 w-full max-w-2xl mt-8">
        <h2 class="text-3xl font-bold text-gray-900 text-center mb-4">Premium "Done-for-You" Policy Service</h2>
        <p class="text-gray-700 text-lg text-center mb-6">
            For businesses needing a deeply customized policy without the hassle.
            We'll handle everything, ensuring razor-sharp compliance.
        </p>
        <ul class="list-disc list-inside text-gray-700 text-left space-y-2 mb-6">
            <li>Personalized consultation</li>
            <li>In-depth data collection analysis</li>
            <li>Custom clauses for unique business needs</li>
            <li>Full GDPR, CCPA, and other relevant compliance</li>
            <li>One-on-one support</li>
        </ul>
        <div class="text-center">
            <p class="text-4xl font-bold text-blue-600 mb-4">Starting from £399</p>
            <a href="YOUR_CONSULTATION_FORM_URL_OR_EMAIL" target="_blank"
               class="inline-block bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105">
                Request a Quote
            </a>
        </div>
        <button onclick="document.getElementById('doneForYou').classList.add('hidden');" class="mt-4 text-gray-500 hover:text-gray-800">Close</button>
    </div>

    <script>
        const businessNameInput = document.getElementById('businessName');
        const websiteUrlInput = document.getElementById('websiteUrl');
        const generateBtn = document.getElementById('generateBtn');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const errorMessage = document.getElementById('errorMessage');
        const errorText = document.getElementById('errorText');
        const policyOutput = document.getElementById('policyOutput');
        const policyActions = document.getElementById('policyActions');
        const copyBtn = document.getElementById('copyBtn');
        const unlockPolicyBtn = document.getElementById('unlockPolicyBtn'); // New button
        const waitlistLink = document.getElementById('waitlistLink'); // New link
        const doneForYouSection = document.getElementById('doneForYou'); // New section

        // Function to show error message
        function showMessage(element, message, isError = true) {
            errorText.textContent = message; // Update errorText span
            errorMessage.classList.remove('hidden'); // Show error div
            if (isError) {
                errorMessage.classList.add('bg-red-100', 'border-red-400', 'text-red-700');
            } else {
                errorMessage.classList.remove('bg-red-100', 'border-red-400', 'text-red-700');
            }
            setTimeout(() => errorMessage.classList.add('hidden'), 5000); // Hide after 5 seconds
        }

        // Event listener for the Generate button
        generateBtn.addEventListener('click', async () => {
            const businessName = businessNameInput.value.trim();
            const websiteUrl = websiteUrlInput.value.trim();

            if (!businessName || !websiteUrl) {
                showMessage(errorMessage, 'Please enter both your Business Name and Website URL.');
                return;
            }
            if (!websiteUrl.startsWith('http://') && !websiteUrl.startsWith('https://')) {
                showMessage(errorMessage, 'Website URL must start with http:// or https://');
                return;
            }

            errorMessage.classList.add('hidden');
            policyOutput.innerHTML = '';
            policyActions.classList.add('hidden');
            loadingIndicator.classList.remove('hidden');
            generateBtn.disabled = true;

            const prompt = `Generate a comprehensive and legally sound GDPR (General Data Protection Regulation) compliant Privacy Policy for an online business.
            The business name is "${businessName}" and its website URL is "${websiteUrl}".
            The policy should cover the following key sections and details, ensuring it is clear, concise, and easy to understand for the average user:
            1.  **Introduction:** Briefly introduce the company, its website, and the purpose of the Privacy Policy (data protection commitment).
            2.  **Data Controller Information:** Clearly state the data controller (the business name provided).
            3.  **Types of Data Collected:** List common types of personal data collected by a typical website/online business (e.g., personal identification data like name, email, address; contact data; technical data like IP address, browser type, device info; usage data like pages visited, time spent; marketing and communications data).
            4.  **How Data is Collected:** Explain methods (e.g., direct input from user, automated technologies like cookies, analytics tools, third-party sources).
            5.  **Purposes and Lawful Basis for Processing:** For each type of data or collection method, explain the specific purpose for collecting it and the corresponding lawful basis under GDPR (e.g., necessity for contract, legitimate interests, consent, legal obligation). Provide examples relevant to an online business (e.g., processing orders, sending newsletters, improving website, analytics, legal compliance).
            6.  **Data Sharing and Disclosure:** Explain if and with whom data is shared (e.g., service providers, payment processors, analytics providers, legal/regulatory authorities). Emphasize data protection agreements with third parties.
            7.  **International Data Transfers:** Briefly mention if data is transferred outside the EEA/UK and the safeguards in place (e.g., Standard Contractual Clauses).
            8.  **Data Security:** Describe general measures taken to protect data (e.g., encryption, access controls).
            9.  **Data Retention:** State how long personal data is kept and the criteria for determining retention periods.
            10. **Your Legal Rights (Data Subject Rights):** Detail the user's rights under GDPR (Right to Access, Rectification, Erasure (Right to be Forgotten), Restriction of Processing, Data Portability, Object to Processing, Rights in relation to Automated Decision-Making and Profiling). Explain how to exercise these rights.
            11. **Complaints:** How users can complain to the supervisory authority (ICO in the UK, or relevant EU DPA).
            12. **Cookies Policy:** A brief statement about the use of cookies and a reference to a dedicated cookie policy (even if it's just part of this document for MVP).
            13. **Changes to This Privacy Policy:** State that the policy may be updated and how users will be informed.
            14. **Contact Us:** Provide clear contact details (email address for privacy inquiries, business address if applicable).
            Ensure the language is professional, clear, and avoids overly technical jargon where possible. Format it with clear headings and paragraphs for readability.`;

            try {
                // Placeholder for actual Gemini API call
                // In a real setup, you'd send this prompt to your own backend, which then calls Gemini.
                // This is to simulate latency and avoid exposing API keys client-side.
                const simulatedResponse = await new Promise(resolve => setTimeout(() => {
                    resolve(`
                    <h2>Privacy Policy for ${businessName}</h2>
                    <p>Effective Date: August 4, 2025</p>
                    <p>Welcome to ${businessName} ("we," "our," or "us"). This Privacy Policy explains how we collect, use, disclose, and protect information that applies to our service, and your choices about the collection and use of your information. Please read it carefully.</p>
                    <h3>1. Data Controller</h3>
                    <p>The data controller responsible for your personal data is ${businessName}, operating the website ${websiteUrl}.</p>
                    <h3>2. Types of Data Collected</h3>
                    <p>We collect various types of information from and about users of our website, including:</p>
                    <ul>
                        <li><strong>Personal Identification Data:</strong> Name, email address, postal address, phone number.</li>
                        <li><strong>Contact Data:</strong> Information you provide when contacting us.</li>
                        <li><strong>Technical Data:</strong> IP address, browser type, operating system, device information, unique device identifiers.</li>
                        <li><strong>Usage Data:</strong> Information about how you use our website (pages visited, time spent, click patterns).</li>
                        <li><strong>Marketing and Communications Data:</strong> Your preferences in receiving marketing from us.</li>
                    </ul>
                    <h3>3. How Data is Collected</h3>
                    <p>We collect information in the following ways:</p>
                    <ul>
                        <li><strong>Direct Interactions:</strong> You may provide data directly by filling in forms on our website (e.g., contact forms, registration forms).</li>
                        <li><strong>Automated Technologies:</strong> As you interact with our website, we may automatically collect Technical and Usage Data using cookies, server logs, and other similar technologies.</li>
                        <li><strong>Third Parties:</strong> We may receive personal data about you from various third parties, such as analytics providers (e.g., Google Analytics).</li>
                    </ul>
                    <h3>4. Purposes and Lawful Basis for Processing</h3>
                    <p>We process your personal data for various purposes, relying on different lawful bases under the GDPR:</p>
                    <ul>
                        <li><strong>To provide and manage our services:</strong> (e.g., processing orders, account management). <em>Lawful Basis: Performance of a contract.</em></li>
                        <li><strong>To send you marketing communications:</strong> (e.g., newsletters, promotions). <em>Lawful Basis: Consent or Legitimate Interests (for existing customers).</em></li>
                        <li><strong>To improve our website and services:</strong> (e.g., analytics, troubleshooting). <em>Lawful Basis: Legitimate Interests.</em></li>
                        <li><strong>For legal compliance:</strong> (e.g., responding to legal requests). <em>Lawful Basis: Legal obligation.</em></li>
                    </ul>
                    <h3>5. Data Sharing and Disclosure</h3>
                    <p>We may share your personal data with:</p>
                    <ul>
                        <li><strong>Service Providers:</strong> Third-party vendors who perform services on our behalf (e.g., hosting, analytics, payment processing). We have data processing agreements in place with these providers.</li>
                        <li><strong>Legal Authorities:</strong> When required by law or to protect our rights.</li>
                    </ul>
                    <h3>6. International Data Transfers</h3>
                    <p>Your data may be transferred to, and stored in, countries outside the UK and European Economic Area (EEA). We ensure adequate safeguards are in place, such as Standard Contractual Clauses (SCCs) or reliance on adequacy decisions.</p>
                    <h3>7. Data Security</h3>
                    <p>We implement appropriate technical and organisational measures to protect your personal data against accidental loss, unauthorized access, use, alteration, or disclosure.</p>
                    <h3>8. Data Retention</h3>
                    <p>We retain your personal data only for as long as necessary to fulfill the purposes for which it was collected, including for legal, accounting, or reporting requirements. Retention periods vary depending on the type of data and purpose of processing.</p>
                    <h3>9. Your Legal Rights (Data Subject Rights)</h3>
                    <p>Under GDPR, you have the following rights:</p>
                    <ul>
                        <li><strong>Right to Access:</strong> Request a copy of your personal data.</li>
                        <li><strong>Right to Rectification:</strong> Request correction of inaccurate data.</li>
                        <li><strong>Right to Erasure (Right to be Forgotten):</strong> Request deletion of your data.</li>
                        <li><strong>Right to Restriction of Processing:</strong> Request us to limit processing of your data.</li>
                        <li><strong>Right to Data Portability:</strong> Receive your data in a structured, machine-readable format.</li>
                        <li><strong>Right to Object:</strong> Object to processing based on legitimate interests or for direct marketing.</li>
                        <li><strong>Rights related to Automated Decision-Making and Profiling:</strong> Object to decisions based solely on automated processing.</li>
                    </ul>
                    <p>To exercise these rights, please contact us at [Your Contact Email].</p>
                    <h3>10. Complaints</h3>
                    <p>If you have concerns about our data processing, you have the right to lodge a complaint with the Information Commissioner’s Office (ICO) in the UK, or your relevant European Data Protection Authority.</p>
                    <h3>11. Cookies Policy</h3>
                    <p>Our website uses cookies to enhance user experience and analyze site traffic. For detailed information, please refer to our dedicated <a href="${websiteUrl}/cookie-policy" target="_blank" class="text-blue-600 hover:underline">Cookie Policy</a>.</p>
                    <h3>12. Changes to This Privacy Policy</h3>
                    <p>We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Effective Date."</p>
                    <h3>13. Contact Us</h3>
                    <p>For any questions or concerns regarding this Privacy Policy or your data, please contact us:</p>
                    <p>Email: <a href="mailto:privacy@${websiteUrl.replace(/^(https?:\/\/)?(www\.)?/, '')}" class="text-blue-600 hover:underline">privacy@${websiteUrl.replace(/^(https?:\/\/)?(www\.)?/, '')}</a></p>
                    <p>Address: [Your Business Address, if applicable]</p>
                    `);
                }, 2000)); // Simulate 2-second API call

                const watermarkedPolicy = `
                    <div class="text-center text-gray-400 italic mb-4">
                        --- PolicyCodex AI - Free MVP Version ---
                    </div>
                    ${simulatedResponse}
                    <div class="text-center text-gray-400 italic mt-4">
                        --- PolicyCodex AI - Free MVP Version ---
                        <br>
                        For unwatermarked policies, auto-updates, and more features, visit policycodex.com
                    </div>
                `;

                policyOutput.innerHTML = watermarkedPolicy;
                policyActions.classList.remove('hidden');

            } catch (error) {
                console.error('Error generating policy:', error);
                showMessage(errorMessage, `Failed to generate policy: ${error.message}. Please try again.`);
                policyOutput.innerHTML = `<p class="text-center text-red-500">Error generating policy. Please check your inputs and try again.</p>`;
            } finally {
                loadingIndicator.classList.add('hidden');
                generateBtn.disabled = false;
            }
        });

        // Event listener for Copy button
        copyBtn.addEventListener('click', () => {
            const policyContent = policyOutput.innerText;
            if (policyContent) {
                const textarea = document.createElement('textarea');
                textarea.value = policyContent;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showMessage(errorMessage, 'Policy copied to clipboard!', false);
            }
        });

        // NEW Event listener for Unlock & Download button
        unlockPolicyBtn.addEventListener('click', () => {
            // Replace with your actual Stripe Checkout or Gumroad/Payhip link
            // For a true "lean" approach, this might redirect to a simple page
            // explaining the one-time purchase, then collect payment.
            const checkoutUrl = 'https://buy.stripe.com/test_YOUR_STRIPE_CHECKOUT_LINK'; // Replace with your test or live Stripe Checkout Link
            window.location.href = checkoutUrl;

            // In a real application, after successful payment, you'd trigger a backend process
            // to store the unwatermarked policy and provide a download link.
            // For this MVP, we're just simulating the payment redirect.
        });

        // Event listener for the "Done-for-You" link
        document.querySelector('a[href="#doneForYou"]').addEventListener('click', (e) => {
            e.preventDefault();
            doneForYouSection.classList.remove('hidden');
            doneForYouSection.scrollIntoView({ behavior: 'smooth' });
        });

        // Placeholder for waitlist signup
        waitlistLink.href = 'https://forms.gle/YOUR_GOOGLE_FORM_LINK'; // Replace with your Google Forms link or Mailchimp signup form
        document.getElementById('doneForYou').querySelector('a').href = 'mailto:your.email@example.com?subject=Inquiry%20about%20Premium%20Policy%20Service'; // Replace with your email or a specific form

    </script>
</body>
</html>
